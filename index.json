[{"content":"安装环境 软路由机器架构: x86_64\nOpenWrt版本: 22.03\nOpenWrt的IP: 192.168.88.3 (如果不同,后面涉及此地址全部需要修改)\n主路由器的地址: 192.168.88.1(如果不同,后面涉及此地址全部需要修改)\n0. 安装PE 如果已经有U盘启动的可以跳过此步骤\n插入U盘，启动微PE软件，选择安装进U盘。点击立即安装进U盘，U盘启动盘已制作完毕。 1. 在软路由上安装openWrt 将下载好的openwrt-22.03.2-x86-64-generic-ext4-combined.img.gz用7zip(或其他工具)解压到U盘上，并且与physdiskwrite.exe文件放在一个目录。\n使用U盘重启系统，输入以下命令\nphysdiskwrite.exe -u openWrt-22.03.2-x86-64-generic-ext4-combined.img 此时会提示选择硬盘(千万不能选错硬盘分区) 输入硬盘之前的序号就开始安装，安装完毕之后重启电脑后拔下U盘。\n2. 配置openWrt 以下步骤中，文件中的配置内容若存在则修改，没有就新增\n修改IP，DNS和网关(必做) vi /etc/config/network 找到以下内容并修改 option ipaddr \u0026#39;192.168.88.3\u0026#39; option gateway \u0026#39;192.168.88.1\u0026#39; option dns \u0026#39;192.168.88.1\u0026#39; 生效网络配置 service network restart 此步骤执行完毕后，可以使用Putty（或XShell等远程工具）。\n更新openWrt包(可选,需联网) opkg update 安装中文包及主题(可选) opkg install luci-i18n-base-zh-cn opkg install luci-i18n-firewall-zh-cn opkg install luci-theme-material 更新openWrt时区(可选) vi /etc/config/system 找到以下内容并修改 option zonename \u0026#39;Asia/Shanghai\u0026#39; option timezone \u0026#39;CST-8\u0026#39;\t生效系统配置 service system restart 安装tun(使用Clash Premiumn必装) opkg install kmod-tun 安装tproxy(可选) opkg install kmod-nft-tproxy 3. 软件下载 名称 版本号 说明 下载地址 微PE工具箱 2.2 U盘启动 https://mirrors.sdu.edu.cn/software/Windows/WePE/WePE64_V2.2.exe openWrt 22.03 路由器操作系统 https://downloads.openWrt.org/releases/22.03.2/targets/x86/64/openWrt-22.03.2-x86-64-generic-ext4-combined.img.gz Putty 0.78 虚拟终端 https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe 4. 说明 openWrt各版本区别\ncombined-ext4.img.gz：包含引导信息、rootfs(ext4 格式)、内核以及相关分区信息的硬盘镜像，可以 dd 写入某个磁盘。\ncombined-squashfs.img.gz：包含引导信息、rootfs(squashfs 格式)、内核以及相关分区信息的硬盘镜像。\ngeneric-rootfs.tar.gz：rootfs 包含的所有文件。\nrootfs-ext4.img.gz：rootfs(ext4 格式) 分区镜像，可以 dd 到某个分区或者 mount -o 到某个目录。\nrootfs-squashfs.img.gz：rootfs(squashfs 格式) 分区镜像，可以 dd 写入某个分区或者 mount -o 挂载到目录。\nvmlinuz：内核\next4 与 squashfs 格式的区别\next4 格式的 rootfs 可以扩展磁盘空间大小，而 squashfs 不能。\nsquashfs 格式的 rootfs 可以使用重置功能（恢复出厂设置），而 ext4 不能。\nUEFI\n当您的机器支持 UEFI 的话（新机器一般同时支持 Legacy 和 UEFI ），在这个启动项中一般会出现两个 U 盘的选项，一个是 UEFI 开头的，另一个是不带 UEFI 开头的或叫 Legacy 的\n当您的机器（老机器）只支持 Legacy 时，在这个主板的启动项中就只会出现一个 U 盘的选项\n","permalink":"https://rshun.github.io/post/tech/openwrt_inst/","summary":"安装并配置openWrt","title":"在openWrt上安装并配置Clash(openWrt篇)"},{"content":"使用环境 开发环境: Windows 11\nHugo版本: 0.108\nGit版本: 2.38.1\nTheme: PaperMod\n前要 上个月底想把荒废已久的blog重新拾起来，当初创建这个blog就是相当简单，使用Hugo+主题+Github。 可以说是完全按照网上的教程的发布到Github上，发布上去之后就基本不看也不用了。\n最近有点想法，想自己的一些日常笔记发布上去，可是我找不到以前的配置了，实在没办法，只能新建一个，按照网上教程，沿用原来的主题。\n发现问题 配置完 config.yml 之后发布到github上，发现css文件无法加载。可是在本地试了没问题，而且印象之前貌似没有这种情况呀。\n打开F12跟踪了一下，发布在css上有个错误 \u0026ldquo;Failed to find a valid digest in the \u0026lsquo;integrity\u0026rsquo; attribute for resource - The resource has been blocked\u0026rdquo;\n于是搜索一下这个错误，原来是index.html文件里面的有一个属性的SHA256不匹配，在Stackoverflow上面有个解决办法，就是在 config.yml 中加上下面这个配置就能解决了，我试了一下，的确是没问题。\nparams: assets: disableFingerprinting: true config.toml 文件配置\nparams.assets.disableFingerprinting = true 问题到此似乎解决了，不过我好奇这个问题这个问题以前没出现过，是不是升级hugo或者主题的新版本之后才有?\n而且我后来测试的时候，config.yml 使用最简的配置，问题依然还有。为什么我在hugo和PaperMod的issue上没找到此类问题描述？\n查了一下hugo的文档，integrity这个属性是为了文件的完整性，防止被篡改，可问题是我在本地发布，同时使用git提交，这个过程中怎么可能被改？\n解决 这个时候我突然想起来了，在我做git add的时候曾经有个warning，当时因为能提交成功所以就忽略这个warning。 因为Windows和Linux对于回车符有些不太一样，于是我又在Linux机器上使用相同的命令和配置重新做了一下，并发布到Github上，结果在Linux机器上发布的就没问题，问题确定就是回车引起的，在网上查了一下，应该是安装Git的时候，未勾选下面的配置。 不过如果Git安装好了，使用下面的命令也可以实现。\ngit config --global core.autocrlf false 这样重新使用git add并提交，然后push到Github上，css样式就可以顺利加载了。\n参考文章 https://stackoverflow.com/questions/65040931/hugo-failed-to-find-a-valid-digest-in-the-integrity-attribute-for-resource 全文完\n","permalink":"https://rshun.github.io/post/tech/hugo/","summary":"发布到Github上,css文件无法加载","title":"解决Hugo无法加载css文件"}]