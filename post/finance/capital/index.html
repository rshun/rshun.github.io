<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>如何在股票交易中合理分配资金使得收益最大化 | 瞬间</title>
<meta name=keywords content="股票,stock,投资,2023"><meta name=description content="如何为每支股票分配合适资金"><meta name=author content><link rel=canonical href=https://qing.shuncs.com/post/finance/capital/><link rel=stylesheet href=https://ik.imagekit.io/k5gdhvlnn/NotoSansSC-VariableFont_wght/result.css><link crossorigin=anonymous href=/assets/css/stylesheet.26baeec47947c22c2559fcddb7b7bc89e84f9b6f64bcada52fefa05cc06a022f.css integrity="sha256-JrruxHlHwiwlWfzdt7e8iehPm29kvK2lL++gXMBqAi8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://qing.shuncs.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://qing.shuncs.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://qing.shuncs.com/favicon-32x32.png><link rel=apple-touch-icon href=https://qing.shuncs.com/apple-touch-icon.png><link rel=mask-icon href=https://qing.shuncs.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="如何在股票交易中合理分配资金使得收益最大化"><meta property="og:description" content="如何为每支股票分配合适资金"><meta property="og:type" content="article"><meta property="og:url" content="https://qing.shuncs.com/post/finance/capital/"><meta property="og:image" content="https://qing.shuncs.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-05-10T20:54:02+08:00"><meta property="article:modified_time" content="2023-05-10T20:54:02+08:00"><meta property="og:site_name" content="Moment"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://qing.shuncs.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="如何在股票交易中合理分配资金使得收益最大化"><meta name=twitter:description content="如何为每支股票分配合适资金"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://qing.shuncs.com/post/"},{"@type":"ListItem","position":2,"name":"如何在股票交易中合理分配资金使得收益最大化","item":"https://qing.shuncs.com/post/finance/capital/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"如何在股票交易中合理分配资金使得收益最大化","name":"如何在股票交易中合理分配资金使得收益最大化","description":"如何为每支股票分配合适资金","keywords":["股票","stock","投资","2023"],"articleBody":"前提 目前选股全部基于自己研究的模型, 这种模型经过2-3年的运行之后, 发现了很多问题, 由于之前大部分问题是模型本身问题, 所以一直在对模型进行分析修补.\n从2022年开始, 模型运行进入一个新的阶段, 在运行了半年之后, 发生另一个问题就是资金分配的问题. 经常会出现仓位已经见底了, 但模型仍然会筛选出新的股票, 更关键的是新股票有时候是盈利的, 反而持仓的股票是亏损的.\n痛定思痛之后, 决定对资金如何分配进行一些不成熟思考, 并对2022年全部及2023年1-4月份在股票池中的股票进行分析研究, 试图找出一个合理的资金分配方式.\n目的 能够将资金分配合理化, 并尽可能保证每月有1-2只买入并获得期望收益, 同时资金分配方案能够符合实战要求\n回测方案 回测资金50万. (资金多少与收益无关联性)\n范围包括了2022年的全部及2023年部分时间.\n按方案中的规则进行分配 所有收益率均是内部报酬率\n方案1 重仓持股某一只股票\n规则 按时间顺序将全部资金买入某一只股票 如果剩余金额符合条件买入第二只股票, 则将剩余资金全部买入. 如果当天有多只股票, 则每只股票平均分配剩余资金, 但其中一只股票不符合买入标准(科创板买入200股起),则该股票的所分配资金会被遗弃,不会累加到其余股票上 当天卖出股票所获得的资金次日方能买入 忽略手续费 回测结果 时间 数量(支) 利润(元) 收益率 2022 30 -343350.10 -75.89% 2023 13 27039.50 7.91% 结论 2022年的收益率简直是惨不忍睹, 原因之一, 这是股票池中的全部股票, 从实战中不可能全部买入, 其二去年的行情与模型的分析背离, 所以收益率会如此之低. 不过这也从另一个方面验证鸡蛋绝不能放在同一个篮子里面.\n方案2 每只股票分配相同金额\n规则 按时间顺序用固定金额买入某一只股票 如果当天只有一只股票且剩余金额小于固定金额, 则按剩余金额买入. 如果当天有多只股票, 则每只股票均分剩余金额, 无论均分金额是否小于固定金额, 但其中一只股票不符合买入标准(科创板买入200股起),则该股票的所分配资金会被丢弃,不会累加到其余股票上 当天卖出股票所获得的资金次日方能买入 忽略手续费 回测结果 时间 分配金额(万元) 数量(支) 利润(元) 收益率 2022 10 115 -228355.12 -70.37% 2022 20 63 -319658.81 -72.12% 2022 30 43 -331300.58 -73.82% 2023 10 22 29144.33 16.67% 2023 20 20 32477.51 10.42% 2023 30 15 47834.00 14.58% 结论 从结果来看, 收益率完全依赖于模型的质量. 不过收益摆动过于巨大, 如果在熊市中会遭受巨大的损失, 同时买入数量过多, 当投入金额10万的时候, 每月买入数量接近10支.\n方案3 分别每只模型打分, 根据不同的分值按比例分配仓位\n分值按自定义规则进行评价, 分值与仓位分配纯属主观, 并且评分标准未发生改变, 所以分析具有可行性\n规则 如果当天只有一只股票, 分值≥7分且\u003c8分, 分配仓位的30%,;如果分值≥8, 分配仓位的80% 如果当天有多只股票, 按分值大小分配剩余仓位. 分值高优先分配, 若分值大小在同一区间内, 均分剩余仓位, 若股票不符合买入标准(科创板买入200股起),则放弃买入, 且不会累加到其余股票上 当天卖出股票所获得的资金次日方能买入 忽略手续费 回测结果 时间 数量(支) 利润(元) 收益率 2022 19 5070.00 4.55% 2023 8 4006.14 2.92% 结论 收益率显著提升, 特别是去年是正收益, 今年收益不高的原因估计有二个, 第一是大于8分的股票迄今为止没出现, 去年出现4支, 一支负收益(大盘股,实战中不会买), 其余3支都是正收益. 第二时间才4个月, 后续情况不明朗.\n方案4 根据止损率不同分配不同金额\n规则 止损率在0-10%之间, 分配50%的资金, 止损率在10.01%-20%之间,分配30%的资金, 止损率在20%以上, 分配20%的资金. 如果当天只有一只股票, 按上述规则分配资金 如果当天有多只股票, 先分配止损率最低的, 在全仓剩余金额和全仓50%的资金, 取最小, 再继续分配止损率次高的, 资金分配和上述相同, 再分配止损率最高. 当天卖出股票所获得的资金次日方能买入 忽略手续费 回测结果 时间 数量(支) 利润(元) 收益率 2022 163 -187110.74 -55.74% 2023 23 27624.66 12.07% 结论 和方案2相比, 亏损有小幅减少但仍有5成.\n总结 这4个方案中, 没有一个是完美方案, 或多或少存在一些不足, 从我个人角度来看, 我的目标是尽可能是正收益, 相对比较保守. 所以我将会选择方案3.\n其实方案还可以做成复合式, 比如在7-8分之内, 根据止损率不同分配资金, 超过8分则继续方案3的规则. 还有凯利公式, 但因为没有历史的数据, 所以没办法计算具体的仓位策略.\n最后由于这次分析的都是同一周期的, 还有更复杂的多周期数据(包括30-200个交易日), 由于今年才开始将更长周期的数据纳入股票池, 所以具体的效果还有待观察.\n全文完\n","wordCount":"1826","inLanguage":"zh","datePublished":"2023-05-10T20:54:02+08:00","dateModified":"2023-05-10T20:54:02+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://qing.shuncs.com/post/finance/capital/"},"publisher":{"@type":"Organization","name":"瞬间","logo":{"@type":"ImageObject","url":"https://qing.shuncs.com/favicon.ico"}}}</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://qing.shuncs.com/ accesskey=h title="Moment (Alt + H)"><img src=https://qing.shuncs.com/apple-touch-icon.png alt aria-label=logo height=35>Moment</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://qing.shuncs.com/search title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://qing.shuncs.com/archives title=归档><span>归档</span></a></li><li><a href=https://qing.shuncs.com/tags title=标签><span>标签</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://qing.shuncs.com/>主页</a>&nbsp;»&nbsp;<a href=https://qing.shuncs.com/post/>Posts</a></div><h1 class=post-title>如何在股票交易中合理分配资金使得收益最大化</h1><div class=post-meta><span title='2023-05-10 20:54:02 +0800 CST'>2023-05-10</span>&nbsp;·&nbsp;4 分钟&nbsp;·&nbsp;1826 字<div class=meta-item>&nbsp·&nbsp
  <span id=busuanzi_container_page_pv>本文阅读量<span id=busuanzi_value_page_pv></span>次</span></div></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#前提>前提</a></li><li><a href=#目的>目的</a></li><li><a href=#回测方案>回测方案</a></li><li><a href=#方案1>方案1</a><ul><li><a href=#规则>规则</a></li><li><a href=#回测结果>回测结果</a></li><li><a href=#结论>结论</a></li></ul></li><li><a href=#方案2>方案2</a><ul><li><a href=#规则-1>规则</a></li><li><a href=#回测结果-1>回测结果</a></li><li><a href=#结论-1>结论</a></li></ul></li><li><a href=#方案3>方案3</a><ul><li><a href=#规则-2>规则</a></li><li><a href=#回测结果-2>回测结果</a></li><li><a href=#结论-2>结论</a></li></ul></li><li><a href=#方案4>方案4</a><ul><li><a href=#规则-3>规则</a></li><li><a href=#回测结果-3>回测结果</a></li><li><a href=#结论-3>结论</a></li></ul></li><li><a href=#总结>总结</a></li></ul></nav></div></details></div><div class=post-content><h2 id=前提>前提<a hidden class=anchor aria-hidden=true href=#前提>#</a></h2><p>目前选股全部基于自己研究的模型, 这种模型经过2-3年的运行之后, 发现了很多问题, 由于之前大部分问题是模型本身问题, 所以一直在对模型进行分析修补.</p><p>从2022年开始, 模型运行进入一个新的阶段, 在运行了半年之后, 发生另一个问题就是资金分配的问题. 经常会出现仓位已经见底了, 但模型仍然会筛选出新的股票, 更关键的是新股票有时候是盈利的, 反而持仓的股票是亏损的.</p><p>痛定思痛之后, 决定对资金如何分配进行一些不成熟思考, 并对2022年全部及2023年1-4月份在股票池中的股票进行分析研究, 试图找出一个合理的资金分配方式.</p><h2 id=目的>目的<a hidden class=anchor aria-hidden=true href=#目的>#</a></h2><p><strong>能够将资金分配合理化, 并尽可能保证每月有1-2只买入并获得期望收益, 同时资金分配方案能够符合实战要求</strong></p><h2 id=回测方案>回测方案<a hidden class=anchor aria-hidden=true href=#回测方案>#</a></h2><p>回测资金50万. <strong>(资金多少与收益无关联性)</strong><br>范围包括了2022年的全部及2023年部分时间.<br>按方案中的规则进行分配
所有收益率均是<strong>内部报酬率</strong></p><h2 id=方案1>方案1<a hidden class=anchor aria-hidden=true href=#方案1>#</a></h2><p><strong>重仓持股某一只股票</strong></p><h3 id=规则>规则<a hidden class=anchor aria-hidden=true href=#规则>#</a></h3><ul><li>按时间顺序将<strong>全部资金</strong>买入某一只股票</li><li>如果剩余金额符合条件买入第二只股票, 则将剩余资金全部买入.</li><li>如果当天有多只股票, 则每只股票平均分配剩余资金, 但其中一只股票不符合买入标准(科创板买入200股起),则该股票的所分配资金会被遗弃,不会累加到其余股票上</li><li>当天卖出股票所获得的资金次日方能买入</li><li>忽略手续费</li></ul><h3 id=回测结果>回测结果<a hidden class=anchor aria-hidden=true href=#回测结果>#</a></h3><table><thead><tr><th>时间</th><th>数量(支)</th><th>利润(元)</th><th>收益率</th></tr></thead><tbody><tr><td>2022</td><td>30</td><td>-343350.10</td><td>-75.89%</td></tr><tr><td>2023</td><td>13</td><td>27039.50</td><td>7.91%</td></tr></tbody></table><h3 id=结论>结论<a hidden class=anchor aria-hidden=true href=#结论>#</a></h3><p><strong>2022年的收益率简直是惨不忍睹, 原因之一, 这是股票池中的全部股票, 从实战中不可能全部买入, 其二去年的行情与模型的分析背离, 所以收益率会如此之低. 不过这也从另一个方面验证鸡蛋绝不能放在同一个篮子里面.</strong></p><hr><h2 id=方案2>方案2<a hidden class=anchor aria-hidden=true href=#方案2>#</a></h2><p><strong>每只股票分配相同金额</strong></p><h3 id=规则-1>规则<a hidden class=anchor aria-hidden=true href=#规则-1>#</a></h3><ul><li>按时间顺序用<strong>固定金额</strong>买入某一只股票</li><li>如果当天只有一只股票且剩余金额小于固定金额, 则按剩余金额买入.</li><li>如果当天有多只股票, 则每只股票均分剩余金额, 无论均分金额是否小于固定金额, 但其中一只股票不符合买入标准(科创板买入200股起),则该股票的所分配资金会被丢弃,不会累加到其余股票上</li><li>当天卖出股票所获得的资金次日方能买入</li><li>忽略手续费</li></ul><h3 id=回测结果-1>回测结果<a hidden class=anchor aria-hidden=true href=#回测结果-1>#</a></h3><table><thead><tr><th>时间</th><th>分配金额(万元)</th><th>数量(支)</th><th>利润(元)</th><th>收益率</th></tr></thead><tbody><tr><td>2022</td><td>10</td><td>115</td><td>-228355.12</td><td>-70.37%</td></tr><tr><td>2022</td><td>20</td><td>63</td><td>-319658.81</td><td>-72.12%</td></tr><tr><td>2022</td><td>30</td><td>43</td><td>-331300.58</td><td>-73.82%</td></tr><tr><td>2023</td><td>10</td><td>22</td><td>29144.33</td><td>16.67%</td></tr><tr><td>2023</td><td>20</td><td>20</td><td>32477.51</td><td>10.42%</td></tr><tr><td>2023</td><td>30</td><td>15</td><td>47834.00</td><td>14.58%</td></tr></tbody></table><h3 id=结论-1>结论<a hidden class=anchor aria-hidden=true href=#结论-1>#</a></h3><p><strong>从结果来看, 收益率完全依赖于模型的质量. 不过收益摆动过于巨大, 如果在熊市中会遭受巨大的损失, 同时买入数量过多, 当投入金额10万的时候, 每月买入数量接近10支.</strong></p><hr><h2 id=方案3>方案3<a hidden class=anchor aria-hidden=true href=#方案3>#</a></h2><p><strong>分别每只模型打分, 根据不同的分值按比例分配仓位</strong><br><strong>分值按自定义规则进行评价, 分值与仓位分配纯属主观, 并且评分标准未发生改变, 所以分析具有可行性</strong></p><h3 id=规则-2>规则<a hidden class=anchor aria-hidden=true href=#规则-2>#</a></h3><ul><li>如果当天只有一只股票, 分值≥7分且&lt;8分, 分配仓位的30%,;如果分值≥8, 分配仓位的80%</li><li>如果当天有多只股票, 按分值大小分配剩余仓位. 分值高优先分配, 若分值大小在同一区间内, 均分剩余仓位, 若股票不符合买入标准(科创板买入200股起),则放弃买入, 且不会累加到其余股票上</li><li>当天卖出股票所获得的资金次日方能买入</li><li>忽略手续费</li></ul><h3 id=回测结果-2>回测结果<a hidden class=anchor aria-hidden=true href=#回测结果-2>#</a></h3><table><thead><tr><th>时间</th><th>数量(支)</th><th>利润(元)</th><th>收益率</th></tr></thead><tbody><tr><td>2022</td><td>19</td><td>5070.00</td><td>4.55%</td></tr><tr><td>2023</td><td>8</td><td>4006.14</td><td>2.92%</td></tr></tbody></table><h3 id=结论-2>结论<a hidden class=anchor aria-hidden=true href=#结论-2>#</a></h3><p><strong>收益率显著提升, 特别是去年是正收益, 今年收益不高的原因估计有二个, 第一是大于8分的股票迄今为止没出现, 去年出现4支, 一支负收益(大盘股,实战中不会买), 其余3支都是正收益. 第二时间才4个月, 后续情况不明朗.</strong></p><hr><h2 id=方案4>方案4<a hidden class=anchor aria-hidden=true href=#方案4>#</a></h2><p><strong>根据止损率不同分配不同金额</strong></p><h3 id=规则-3>规则<a hidden class=anchor aria-hidden=true href=#规则-3>#</a></h3><ul><li>止损率在0-10%之间, 分配50%的资金, 止损率在10.01%-20%之间,分配30%的资金, 止损率在20%以上, 分配20%的资金.</li><li>如果当天只有一只股票, 按上述规则分配资金</li><li>如果当天有多只股票, 先分配止损率最低的, 在全仓剩余金额和全仓50%的资金, 取最小, 再继续分配止损率次高的, 资金分配和上述相同, 再分配止损率最高.</li><li>当天卖出股票所获得的资金次日方能买入</li><li>忽略手续费</li></ul><h3 id=回测结果-3>回测结果<a hidden class=anchor aria-hidden=true href=#回测结果-3>#</a></h3><table><thead><tr><th>时间</th><th>数量(支)</th><th>利润(元)</th><th>收益率</th></tr></thead><tbody><tr><td>2022</td><td>163</td><td>-187110.74</td><td>-55.74%</td></tr><tr><td>2023</td><td>23</td><td>27624.66</td><td>12.07%</td></tr></tbody></table><h3 id=结论-3>结论<a hidden class=anchor aria-hidden=true href=#结论-3>#</a></h3><p><strong>和方案2相比, 亏损有小幅减少但仍有5成.</strong></p><hr><h2 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p><strong>这4个方案中, 没有一个是完美方案, 或多或少存在一些不足, 从我个人角度来看, 我的目标是尽可能是正收益, 相对比较保守. 所以我将会选择方案3.</strong></p><p><strong>其实方案还可以做成复合式, 比如在7-8分之内, 根据止损率不同分配资金, 超过8分则继续方案3的规则. 还有凯利公式, 但因为没有历史的数据, 所以没办法计算具体的仓位策略.</strong></p><p><strong>最后由于这次分析的都是同一周期的, 还有更复杂的多周期数据(包括30-200个交易日), 由于今年才开始将更长周期的数据纳入股票池, 所以具体的效果还有待观察.</strong></p><p><strong>全文完</strong></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://qing.shuncs.com/tags/%E8%82%A1%E7%A5%A8/>股票</a></li><li><a href=https://qing.shuncs.com/tags/stock/>stock</a></li><li><a href=https://qing.shuncs.com/tags/%E6%8A%95%E8%B5%84/>投资</a></li><li><a href=https://qing.shuncs.com/tags/2023/>2023</a></li></ul><nav class=paginav><a class=prev href=https://qing.shuncs.com/post/hugo/hugofont/><span class=title>« 上一页</span><br><span>在hugo里面添加中文web字体</span>
</a><a class=next href=https://qing.shuncs.com/post/tech/openwrtdisk/><span class=title>下一页 »</span><br><span>在openWrt上扩容磁盘容量</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://qing.shuncs.com/>瞬间</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>本站总访问量<span id=busuanzi_value_site_pv></span>次
</span><span id=busuanzi_container_site_uv>本站访客数<span id=busuanzi_value_site_uv></span>人次</span></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>